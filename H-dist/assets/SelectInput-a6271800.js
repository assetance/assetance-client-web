import{_ as g,o as i,c,z as _,u as C,r as h,x as u,a as s,n as p,d as k,t as y,I as $,F as w,g as B,l as q,w as M,p as O,e as D}from"./index-17b6fad9.js";const N={},V={class:"dropdownOption",role:"option"};function j(t,v){return i(),c("li",V,[_(t.$slots,"option",{},void 0,!0)])}const z=g(N,[["render",j],["__scopeId","data-v-08588a15"]]);const S=t=>(O("data-v-b79d8cc9"),t=t(),D(),t),E={class:"buttonsContainer"},F=["aria-expanded"],L={class:"label"},R=S(()=>s("span",{class:"material-symbols-rounded"}," expand_more ",-1)),A=S(()=>s("span",{class:"material-symbols-rounded"}," close ",-1)),T=[A],G={class:"errMsg"},H={class:"listBox"},J=["id","placeholder","value"],K={class:"list",role:"listbox"},P={__name:"SelectInput",props:{options:{type:Array,required:!0},selection:{type:[String,Object],required:!1,default:"select"},isSearchable:{type:Boolean,required:!1,default:!0},isResettable:{type:Boolean,required:!1,default:!0},status:{type:String,required:!1,default:"default"},errorMsg:{type:String,required:!1,default:""}},emits:["update:selection"],setup(t,{emit:v}){const n=t,f=v,{t:d}=C(),r=h(""),a=h(!1),b=u(()=>typeof n.selection=="object"?n.selection.option:d("global.form.select")),m=u(()=>b.value!=d("global.form.select")),x=u(()=>{switch(n.status){case"valid":return"valid";case"invalid":return"invalid";default:return""}}),I=u(()=>{if(r.value){let l=n.options.filter(e=>{if(e.option.includes(r.value))return e});return l.length?l:[{option:d("global.form.no-options-found")}]}else return n.options});return(l,e)=>(i(),c("div",{class:p([m.value?"selectInputContainer__selected":"",a.value?"selectInputContainer__expanded":"","selectInputContainer"]),onClickout:e[3]||(e[3]=o=>{a.value=!1})},[s("div",E,[s("button",{role:"combobox","aria-labelledby":"select button","aria-haspopup":"listbox","aria-expanded":a.value,"aria-controls":"select-dropdown",onClick:e[0]||(e[0]=o=>{a.value==!1&&(r.value=""),a.value=!a.value}),class:p([x.value])},[s("div",L,[_(l.$slots,"label",{},()=>[k(" Label ")],!0)]),s("p",null,y(b.value),1),R],10,F),s("button",{class:p(["reset",m.value&&t.isResettable?"reset__active":""]),onClick:e[1]||(e[1]=o=>f("update:selection",""))},T,2)]),s("sub",G,y(t.errorMsg),1),s("div",H,[t.isSearchable?(i(),c("input",{key:0,type:"text",name:"search",id:"search_"+Math.floor(Math.random()*100),placeholder:l.$t("global.form.search"),value:r.value,onInput:e[2]||(e[2]=o=>{r.value=o.target.value})},null,40,J)):$("",!0),s("ul",K,[(i(!0),c(w,null,B(I.value,o=>(i(),q(z,{key:o.option,onClick:Q=>{f("update:selection",o),a.value=!1}},{option:M(()=>[_(l.$slots,"option",{option:o},void 0,!0)]),_:2},1032,["onClick"]))),128))])])],34))}},W=g(P,[["__scopeId","data-v-b79d8cc9"]]);export{W as S};
